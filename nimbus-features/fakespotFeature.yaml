# The configuration for the Fakespot feature
features:
  fakespot-feature:
    description: >
      The configuration setting for the status of the Fakespot feature
    variables:
      status:
        description: >
          Whether the Fakespot feature is enabled or disabled
        type: Boolean
        default: false
      config:
        type: List<ProductConfig>
        description: >
          A List of products configurations
        default:
        [
          {
            "websiteName": amazon,
            "websiteConfig":
            {
            "amazon":
              {
              "productIdFromURLRegex": "(?:[\\\\/]|$|%2F)(?<productId>[A-Z0-9]{10})(?:[\\\\/]|$|\\\\#|\\\\?|%2F)",
              "validTLDs": ["com"]
              }
            }
            },
            {
            "websiteName": walmart,
            "websiteConfig":
            {
            "walmart":
              {
              "productIdFromURLRegex": "\\\\/ip\\\\/(?:[A-Za-z0-9-]{1,320}\\\\/)?(?<productId>[0-9]{3,13})",
              "validTLDs": ["com"]
              }
            }
            },
            {
            "websiteName": bestbuy,
            "websiteConfig":
            {
            "bestbuy":
              {
              "productIdFromURLRegex": "\\\\/(?<productId>\\\\d+\\\\.p)",
              "validTLDs": ["com"]
              }
            }
            }
        ]
    defaults:
      - channel: beta
        value:
          status: false
      - channel: developer
        value:
          status: true

objects:
  ProductConfig:
    description: >
      It represents a configuration for different e-commerce websites and includes regular expressions for extracting product IDs from their respective URLs
    fields:
      websiteConfig:
        type: Map<String, WebsiteConfig>
        description: >
          It represents a map with the website key and configuration
        default: {}
      websiteName:
        type: WebsiteName
        description: >
          It represents the name of the website
        default: amazon
  WebsiteConfig:
    description: >
      It represents the website configuration
    fields:
      productIdFromURLRegex:
        type: String
        description: >
          It represents the product ID extracted from a regex query
        default: ""
      validTLDs:
        type: List<String>
        description: >
          Valid Top Level Domains
        default: []

enums:
    WebsiteName:
      description: The identifiers for different types of websites.
      variants:
        amazon:
          description: The name of the amazon website
        walmart:
          description: The name of the walmart website
        bestbuy:
          description: The name of the walmart website
